port: 7890
socks-port: 7891
allow-lan: true
bind-address: "*"
ipv6: false
mode: rule
log-level: warning
geodata-mode: true
external-controller: 127.0.0.1:9090
tcp-concurrent: true
experimental:
  ignore-resolve-fail: true
  sniff-tls-sni: true
  quic: false
dns:
  enable: true
  ipv6: false
  listen: 127.0.0.1:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  use-hosts: true
  use-system-hosts: true
  fake-ip-filter:
    - "*.lan"
    - "*.local"
    - "*.arpa"
    - time.*.com
    - ntp.*.com
    - +.market.xiaomi.com
    - localhost.ptlogin2.qq.com
    - "*.msftncsi.com"
    - www.msftconnecttest.com
  default-nameserver:
    - 119.29.29.29
    - 223.5.5.5
  nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
  nameserver-policy:
    "geosite:cn":
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
    "geoip:cn":
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
  proxy-server-nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
proxies:
  #å¡«èŠ‚ç‚¹åˆ—è¡¨
proxy-groups:
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      #å¡«èŠ‚ç‚¹å
  - name: ğŸŒ ä»£ç†æœåŠ¡
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - DIRECT
  - name: ğŸ¯ å…¨çƒç›´è¿
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - DIRECT
  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - DIRECT

rules:
  #æœ¬åœ° / å†…ç½‘ / ç³»ç»Ÿ
  - DOMAIN-SUFFIX,local,ğŸ¯ å…¨çƒç›´è¿
  - DOMAIN-SUFFIX,localhost,ğŸ¯ å…¨çƒç›´è¿
  - DOMAIN-SUFFIX,lan,ğŸ¯ å…¨çƒç›´è¿
  - IP-CIDR,127.0.0.0/8,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - IP-CIDR,10.0.0.0/8,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - IP-CIDR,172.16.0.0/12,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - IP-CIDR,192.168.0.0/16,ğŸ¯ å…¨çƒç›´è¿,no-resolve

  #ç‰¹æ®Šå›½å†…åº”ç”¨ä½†éœ€èµ°ä»£ç†ï¼ˆé˜²æ­¢ç›´è¿è¶…æ—¶ï¼‰

  #ä¸­å›½æµé‡ï¼ˆå”¯ä¸€ç›´è¿æ¥æºï¼‰
  - GEOSITE,cn,ğŸ¯ å…¨çƒç›´è¿
  - GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿

  #éä¸­å›½æµé‡ï¼ˆå”¯ä¸€ä»£ç†å…¥å£ï¼‰
  - GEOSITE,geolocation-!cn,ğŸŒ ä»£ç†æœåŠ¡

  #æœ€ç»ˆå…œåº•ï¼ˆæ°¸ä¸ç›´è¿ï¼‰
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼